(this["webpackJsonpfeed-reader"]=this["webpackJsonpfeed-reader"]||[]).push([[0],{100:function(e,t){},102:function(e,t){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(74),r=n.n(a),i=(n(82),n(5)),o=(n(83),n(6)),u=n(2),l=(n(84),n(0)),d=function(e){var t=e.setIsAuthenticated,n=Object(c.useState)({email:"",phone:""}),s=Object(i.a)(n,2),a=s[0],r=s[1],d=Object(u.f)();return Object(c.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/users/1").then((function(e){return e.json()})).then(r)}),[]),Object(l.jsxs)("div",{className:"login login--parameters",children:[Object(l.jsx)("label",{className:"login__label",htmlFor:"email",children:"Email"}),Object(l.jsx)("input",{className:"login__input input",id:"email",type:"email",value:a.email,onChange:function(e){r((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}))}}),Object(l.jsx)("label",{className:"login__label",htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{className:"login__input input",id:"password",type:"password",value:a.phone,onChange:function(e){r((function(t){return Object(o.a)(Object(o.a)({},t),{},{phone:e.target.value})}))}}),Object(l.jsx)("button",{className:"login__button button",type:"button",onClick:function(){d.push("/feed-reader"),t(!0),window.localStorage.setItem("isAuthenticated",!0)},children:"Log in"})]})},b=n(23),j=n(52),f=n.n(j),h=n(76),m=n(77),O=n.n(m),p=["https://www.nasa.gov/rss/dyn/breaking_news.rss","https://www.reddit.com/.rss","https://www.mobileworldlive.com/latest-stories/feed","https://feeds.simplecast.com/54nAGcIl"],x=(n(140),function(e){var t=e.history;e.location,e.match;return Object(l.jsxs)("div",{className:"article",children:[Object(l.jsx)("h3",{className:"article__title",children:t.location.state.title}),Object(l.jsx)("article",{className:"article__content",children:t.location.state.contentSnippet}),Object(l.jsx)("a",{className:"article__link",href:t.location.state.link,target:"_blank",rel:"noreferrer",children:"Link to sourse"})]})}),_=(n(141),function(e){var t=e.children;return Object(l.jsx)("div",{className:"container",children:t})}),g=(n(142),function(e){var t=e.history,n=(e.location,e.match),s=e.items,a=Object(c.useState)(null),r=Object(i.a)(a,2),o=r[0],u=r[1];return Object(c.useEffect)((function(){var e=s.find((function(e){return n.url.includes(e.title)}));u(e)}),[n,s]),Object(l.jsx)("ul",{className:"feed",children:o&&o.items.map((function(e){return Object(l.jsx)("li",{className:"feed__item",onClick:function(){return t.push("/feed-reader/".concat(o.title,"/").concat(e.title),e)},children:e.title},e.title)}))})}),v="https://jsonplaceholder.typicode.com/posts";n(143);var N=function(e){var t=e.item,n=e.setItems,s=Object(c.useState)(t.title),a=Object(i.a)(s,2),r=a[0],d=a[1],b=Object(c.useState)(!1),j=Object(i.a)(b,2),f=j[0],h=j[1],m=Object(u.f)();return Object(l.jsx)("div",{className:"item-card",children:Object(l.jsxs)("div",{className:"item-card__body",children:[f?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{className:"input",type:"text",value:r,onChange:function(e){d(e.target.value)}}),Object(l.jsx)("button",{className:"item-card__button button",onClick:function(){!function(e,t){fetch(v+"/".concat(e),{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({title:t})}).then((function(e){return console.log(e)}))}("1",r),n((function(e){return e.map((function(e){return e.id===t.id&&(e=Object(o.a)(Object(o.a)({},e),{},{title:r})),e}))})),h(!1)},children:"Save"})]}):Object(l.jsx)("h3",{className:"item-card__title",children:t.title}),t.items&&Object(l.jsx)("button",{className:"item-card__button button",onClick:function(){m.push("/feed-reader/".concat(t.title))},children:"See more"}),t.userId&&!f&&Object(l.jsx)("button",{className:"item-card__button button",onClick:function(){h(!0)},children:"Edit"}),Object(l.jsx)("button",{className:"item-card__button button",onClick:function(){var e;n((function(e){return e.filter((function(e){return e.title!==t.title}))})),t.userId&&(e=t.userId,fetch(v+"/".concat(e),{method:"DELETE"}).then((function(e){return console.log(e)})))},children:"Delete"})]})})},y=(n(144),function(e){var t=e.items,n=e.setItems;return Object(l.jsx)("div",{className:"item-page",children:t.map((function(e){return Object(l.jsx)(N,{item:e,setItems:n},e.title)}))})}),w=(n(145),function(e){var t=e.setIsAuthenticated,n=e.setSelectedItems,c=e.setIsAddNew,s=Object(u.f)();return Object(l.jsxs)("header",{className:"header header--parameters",children:[Object(l.jsx)("h1",{className:"header__title",children:"Feeds"}),Object(l.jsxs)("div",{className:"header__options",children:[Object(l.jsx)("button",{className:"header__button button button--secondary",type:"button",onClick:function(){n("feeds"),c(!1),s.push("/feed-reader")},children:"Feeds"}),Object(l.jsx)("button",{className:"header__button button button--secondary",type:"button",onClick:function(){n("posts"),c(!1),s.push("/feed-reader")},children:"Posts"}),Object(l.jsx)("button",{className:"header__button button button--secondary",type:"button",onClick:function(){c(!0),s.push("/feed-reader")},children:"Add New"})]}),Object(l.jsx)("button",{className:"header__button button button--secondary",type:"button",onClick:function(){s.push("/feed-reader"),t(!1),window.localStorage.setItem("isAuthenticated",!1)},children:"Logout"})]})}),I=(n(146),function(e){var t=e.selectedItems,n=e.setLinks,s=e.setItems,a=Object(c.useState)(""),r=Object(i.a)(a,2),o=r[0],u=r[1],d=Object(c.useState)(""),j=Object(i.a)(d,2),f=j[0],h=j[1],m=Object(c.useState)(""),O=Object(i.a)(m,2),p=O[0],x=O[1];return Object(l.jsxs)("form",{className:"add-form",onSubmit:function(e){e.preventDefault(),"feeds"===t?n((function(e){return[].concat(Object(b.a)(e),[o])})):(!function(e,t,n){fetch(v,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({userId:e,title:t,body:n})}).then((function(e){return console.log(e)}))}("1",f,p),s((function(e){return[].concat(Object(b.a)(e),[{title:f,body:p,userId:"1"}])}))),u(""),h(""),x("")},children:[function(){switch(t){case"feeds":return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("label",{className:"add-form__label",htmlFor:"feed",children:"Feed link"}),Object(l.jsx)("input",{className:"add-form__input input",id:"feed",type:"text",value:o,onChange:function(e){return u(e.target.value)}})]});case"posts":return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("label",{className:"add-form__label",htmlFor:"title",children:"Title"}),Object(l.jsx)("input",{className:"add-form__input input",id:"title",type:"text",value:f,onChange:function(e){return h(e.target.value)}}),Object(l.jsx)("label",{className:"add-form__label",htmlFor:"title",children:"Body"}),Object(l.jsx)("input",{className:"add-form__input input",id:"body",type:"text",value:p,onChange:function(e){return x(e.target.value)}})]});default:return Object(l.jsx)("p",{children:"Something went wrong..."})}}(),Object(l.jsx)("button",{className:"add-form__submit button",type:"submit",children:"Submit"})]})}),S=function(e){var t=e.setIsAuthenticated,n=Object(c.useState)([]),s=Object(i.a)(n,2),a=s[0],r=s[1],d=Object(c.useState)(p),j=Object(i.a)(d,2),m=j[0],N=j[1],S=Object(c.useState)("feeds"),k=Object(i.a)(S,2),C=k[0],F=k[1],A=Object(c.useState)(!1),E=Object(i.a)(A,2),L=E[0],T=E[1];return Object(c.useEffect)((function(){if("feeds"===C){var e=new O.a,t=[];(function(){var n=Object(h.a)(f.a.mark((function n(){var c,s,a,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c="https://corsanywhere.herokuapp.com/",s=0;case 2:if(!(s<m.length)){n.next=11;break}return a=c+m[s],n.next=6,e.parseURL(a);case 6:i=n.sent,t.push(i);case 8:s++,n.next=2;break;case 11:r(t);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}else(n="1",fetch(v+"?userId=".concat(n)).then((function(e){return e.json()}))).then((function(e){return r(Object(b.a)(e))}));var n}),[m,C]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(w,{setIsAuthenticated:t,setSelectedItems:F,setIsAddNew:T}),Object(l.jsx)(_,{children:Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{exact:!0,path:"/feed-reader",render:function(e){return L?Object(l.jsx)(I,{selectedItems:C,setLinks:N,setItems:r}):Object(l.jsx)(y,Object(o.a)({items:a,setItems:r},e))}}),Object(l.jsx)(u.a,{exact:!0,path:"/feed-reader/:title",render:function(e){return Object(l.jsx)(g,Object(o.a)(Object(o.a)({},e),{},{items:a}))}}),Object(l.jsx)(u.a,{exact:!0,path:"/feed-reader/:title/:article",render:function(e){return Object(l.jsx)(x,Object(o.a)(Object(o.a)({},e),{},{items:a}))}})]})})]})};var k=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),n=t[0],s=t[1],a=localStorage.getItem("isAuthenticated");return Object(c.useEffect)((function(){s(a)}),[a]),Object(l.jsx)("div",{className:"app",children:"true"===n?Object(l.jsx)(S,{setIsAuthenticated:s}):Object(l.jsx)(d,{setIsAuthenticated:s})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,148)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))},F=n(18);r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(F.a,{children:Object(l.jsx)(k,{})})}),document.getElementById("root")),C()},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){}},[[147,1,2]]]);
//# sourceMappingURL=main.bc780946.chunk.js.map